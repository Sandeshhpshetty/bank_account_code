import speech_recognition as sr
from gtts import gTTS
import os

def voice_search_assistant():
    # Initialize recognizer and microphone
    recognizer = sr.Recognizer()

    with sr.Microphone() as source:
        print("Say something:")
        recognizer.adjust_for_ambient_noise(source)  # Adjust for ambient noise
        audio = recognizer.listen(source)

    try:
        # Recognize speech using Google Speech Recognition
        query = recognizer.recognize_google(audio)
        print("You said:", query)

        # Replace this with your logic to generate links based on the query
        URL's List for Chatbot input
https://bhuvan.nrsc.gov.in
https://bhuvan-app3.nrsc.gov.in/aadhaar/
https://bhuvan-app2.nrsc.gov.in/mgnrega/mgnrega_phase2.php
https://bhuvan-app3.nrsc.gov.in/data/
https://bhuvan-app1.nrsc.gov.in/bhuvan2d/bhuvan/bhuvan2d.php
https://bhuvan.nrsc.gov.in/home/index.php
https://bhuvan-app1.nrsc.gov.in/api/
https://bhuvan-app1.nrsc.gov.in/hfa/housing_for_all.php
https://bhuvan-app1.nrsc.gov.in/apshcl
https://bhuvan-app1.nrsc.gov.in/ntr
https://bhuvan.nrsc.gov.in/forum
https://bhuvan-wbis.nrsc.gov.in/
https://bhuvan.nrsc.gov.in/geonetwork/
https://bhuvan-app2.nrsc.gov.in/planner/
https://bhuvan-app1.nrsc.gov.in/globe/3d.php
https://bhuvan-app1.nrsc.gov.in/mhrd_rusa/
https://bhuvan-app1.nrsc.gov.in/geographicalindication/index.php
https://bhuvan-app1.nrsc.gov.in/flycatchers/flycatchers.php
https://bhuvan-app1.nrsc.gov.in/mhrd_ncert
https://bhuvan-app1.nrsc.gov.in/nabard
https://bhuvan-app1.nrsc.gov.in/iwmp
https://bhuvan-app1.nrsc.gov.in/tourism/tourism.php
https://bhuvan-app1.nrsc.gov.in/hp_forest
https://bhuvan-app1.nrsc.gov.in/disaster/disaster.php
https://bhuvan-app1.nrsc.gov.in/thematic/thematic/index.php
https://bhuvan-app1.nrsc.gov.in/imd/
https://bhuvan-app1.nrsc.gov.in/pdmc/
https://bhuvan-app1.nrsc.gov.in/heatwave/
https://bhuvan-app1.nrsc.gov.in/mowr_ganga/
https://bhuvan-app1.nrsc.gov.in/ts_forest/
https://bhuvan-app1.nrsc.gov.in/pb_forest/
https://bhuvan-app1.nrsc.gov.in/narl/
https://bhuvan-app1.nrsc.gov.in/ka_forest
https://bhuvan-app1.nrsc.gov.in/state/HR
https://bhuvan-app1.nrsc.gov.in/saraswati/
https://bhuvan-app1.nrsc.gov.in/web_view/index.php
https://bhuvan-app1.nrsc.gov.in/pmjvk
https://bhuvan-app1.nrsc.gov.in/anganwadi/
https://bhuvan-app2.nrsc.gov.in/mgnregatpv/
https://bhuvan-app3.nrsc.gov.in/corona/
https://bhuvan-app1.nrsc.gov.in/moef_cris
https://bhuvan-app1.nrsc.gov.in/2dresources/bhuvanstore.php
https://bhuvan-app1.nrsc.gov.in/rbi
https://bhuvan-app1.nrsc.gov.in/sitemap
https://bhuvan-app1.nrsc.gov.in/mhrd_ncert/sb/sb.php
https://bhuvan-app1.nrsc.gov.in/tourism/tourism.php?tourismid=1
https://bhuvan-app1.nrsc.gov.in/tr_forest/
https://bhuvan-app1.nrsc.gov.in/municipal/municipal.php
https://bhuvan-app1.nrsc.gov.in/toll/morth_nhai.php
https://bhuvan-app1.nrsc.gov.in/walamtari/walamtari.php
https://bhuvan-app1.nrsc.gov.in/mines/mines.php
https://bhuvan-app1.nrsc.gov.in/agriculture/agri.php
https://bhuvan-app1.nrsc.gov.in/deltas/index.php
https://bhuvan-app1.nrsc.gov.in/cdma/index.php
https://bhuvan-app1.nrsc.gov.in/state/AP
https://bhuvan-mapper1.nrsc.gov.in/twris
https://bhuvan-app1.nrsc.gov.in/multilingual
https://bhuvan-app1.nrsc.gov.in/disaster/disaster.php?id=fire
https://bhuvan-app1.nrsc.gov.in/shipping
https://bhuvan-app1.nrsc.gov.in/rkvy/index.php
https://bhuvan-app1.nrsc.gov.in/aibp/aibp.php
https://bhuvan-app1.nrsc.gov.in/mwrds/index.php
https://bhuvan-app1.nrsc.gov.in/pmgsy/home/index.php
https://bhuvan-app1.nrsc.gov.in/collaboration/

        # Speak back the links
        speak_links(links)

    except sr.UnknownValueError:
        print("Could not understand audio")
    except sr.RequestError as e:
        print("Could not request results; {0}".format(e))

def get_links_for_query(query):
    # Replace this with your logic to generate links based on the query
    # This could involve web scraping, querying a database, or any other method
    # For simplicity, let's assume a predefined set of links for demonstration purposes
    predefined_links = {
        "python": "https://www.python.org/",
        "machine learning": "https://www.tensorflow.org/",
        "artificial intelligence": "https://www.openai.com/"
    }

    return predefined_links.get(query.lower(), "No link found for the query.")

def speak_links(links):
    for query, link in links.items():
        text_to_speech(f"For the query {query}, the link is {link}")

def text_to_speech(text):
    # Convert text to speech using Google Text-to-Speech
    tts = gTTS(text=text, lang="en")
    tts.save("output.mp3")
    os.system("start output.mp3")

if __name__ == "__main__":
    voice_search_assistant()
